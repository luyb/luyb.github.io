<!DOCTYPE html>
<html lang="zh">
<head>
<meta  content="text/html;charset=gb2312">
<link href="base.css" rel="stylesheet">

<title>Smartisan-coloc</title>
</head>
<body>


<div class="coloc">
	<div class="btn_ctl ctl_mid" id="mid_btn" onMouseDown="mid_down()" onMouseUp="mid_up()">
		<div class="mid_pandent"><div class="pandent"></div></div>
		<div class="btn_body"></div>
		<div class="btn_top"></div>
	</div>
	<div class="btn_ctl ctl_left" id="left_btn" onMouseDown="left_click('down')" onMouseUp="left_click('c_up')">
		<div class="btn_body"></div>
		<div class="btn_top"></div>
	</div>
	<div class="btn_ctl ctl_right" id="right_btn" onMouseDown="right_click('c_down')" onMouseUp="right_click('c_up')">
		<div class="btn_body"></div>
		<div class="btn_top"></div>
	</div>
	<div class="biankuang">
		<div class="neibiankuang">
			<div class="hm_holder"></div>
			<ul class="hm_line">
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
			</ul>
			<div class="hm_cover"></div>
			<ul class="m_line">
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
				<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
			</ul>
			<div class="m_cover"></div>
			<ul class="h_line">
				<li></li><li></li><li></li><li></li><li></li><li></li>
			</ul>
			<div class="h_cover"></div>
			<span class="number six">60</span><span class="number fif">15</span>
			<div class="pointer_holder">
				<div class="pointer_holder_in">
					<div class="second_set"></div>
				</div>
			</div>
			<div class="second_holder" id="second_holder">
				<div class="second_container">
					<div class="second_pointer"></div>
				</div>
			</div>

		</div>
	</div>
</div>
<div class="timer">
	<div class="time_shadow" id="time_shadow"></div>
	<div class="records" id="records">
		<div class="space"></div>
		<div class="opcityCover "></div>
		<ul id="records_ul" class="records_ul">
		</ul>
		<div class="space"></div>
		<ul class="juchi_ul">
			<li></li><li></li><li></li><li></li><li></li><li></li>
			<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
		</ul>
	</div>

	<div class="records_cover" id="records_cover"></div>
	<div class="time_cover">
		<span id="main_time" class="main_time">00:00:00</span>
	</div>

</div>
<script>
	var start = false;
	var trans = -90;
	var left_ctlable = false;
	var right_ctlable = false;
	var get_time_cnt = 0;
	var times = new Array();
	function myFunction()
	{
		document.getElementById("second_holder").style.webkitTransform = "rotate(45deg)";
	}
	function mid_down()
	{
		document.getElementById("mid_btn").style.top = "38px";
	}
	function mid_up()
	{
		if(!start){
			document.getElementById("mid_btn").style.top = "32px";
			left_ctlable = true;
			left_click("up");
			right_click("down");
			right_ctlable = false;
			start = true;
			transPlus();
			timeChange();
			pointerGo();
			if (!document.getElementById("main_time").classList.contains("start")) {
				document.getElementById("main_time").classList.add("start");
				document.getElementById("records").classList.add("start");
				document.getElementById("records_cover").classList.add("start");
				document.getElementById("time_shadow").classList.add("start");
			}
		}else{
			document.getElementById("mid_btn").style.top = "32px";
			left_ctlable = true;
			left_click("down");
			left_ctlable = false;
			right_ctlable = true;
			right_click("up");
			start = false;
		}

	}

	function left_click(e){
		if(!left_ctlable){
			return;
		}else if(e =="down"){
			document.getElementById("left_btn").style.top = "92px";
			document.getElementById("left_btn").style.left = "27px";
		}else if(e =="up"){
			document.getElementById("left_btn").style.top = "88px";
			document.getElementById("left_btn").style.left = "23px";
		}else if(e =="c_up"){
			document.getElementById("left_btn").style.top = "88px";
			document.getElementById("left_btn").style.left = "23px";
			var time = getTimePnt(trans + 90);
			var li = document.createElement("li");
			li.innerHTML='<span class="get_time_cnt">'+(++get_time_cnt)+'</span>'+time;
			times.push(time);
			var ul = document.getElementById("records_ul");
			ul.insertBefore(li,ul.firstChild);
		}
		
	}
	function right_click(e){
		if(!right_ctlable){
			return;
		}else if(e =="down"){
			document.getElementById("right_btn").style.top = "92px";
			document.getElementById("right_btn").style.left = "273px";
		}else if(e =="up"){
			document.getElementById("right_btn").style.top = "88px";
			document.getElementById("right_btn").style.left = "277px";
		}else if(e =="c_down"){
			document.getElementById("right_btn").style.top = "94px";
			document.getElementById("right_btn").style.left = "271px";
		}else if(e =="c_up"){
			document.getElementById("right_btn").style.top = "92px";
			document.getElementById("right_btn").style.left = "273px";
			document.getElementById("second_holder").style.webkitTransform = "rotate(-90deg)";
			right_click("down");
			document.getElementById("main_time").innerText = "00:00.00";
			trans = -90;
			left_ctlable = false;
			right_ctlable = false;
			for(var i=0;i<times.length;i++){
				var ul = document.getElementById("records_ul");
				ul.removeChild(ul.firstChild);
			}
		}
	}
	function timeChange(){
			var timeChangeAct = setInterval(function(){
					if(start)
					{
						document.getElementById("main_time").innerText = getTimePnt(trans+90);
					}else {
						clearInterval(timeChangeAct);
					}
				},100
			);
	}
	function pointerGo(){
			var pointerGoAct = setInterval(function(){
					if(start)
					{
						document.getElementById("second_holder").style.webkitTransform = "rotate("+ trans +"deg)";
					}else {
						clearInterval(pointerGoAct);
					}
				},100
			);
	}
	function transPlus(){
		
			var transPlusAct = setInterval(function(){
				if(start){
					trans = trans + 0.06;
				}else {
					clearInterval(transPlusAct);
				}
			},10);
	}
	function getTimePnt(p_trans){
		if(!p_trans){
			p_trans = 0;
		}

		p_trans = p_trans/0.06;
		var min = parseInt(p_trans/6000);
		var second = parseInt(p_trans%6000/100);
		var hs = parseInt(p_trans%6000%100);
		return (min<10?"0"+min : min) +":"+(second<10?"0"+second : second)+"."+(hs<10?"0"+hs : hs);
	}
</script>
</body>
</html>
